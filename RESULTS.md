# Tests

## Setup

```shell
scp -i "$KEYFILE" target/ocfl-java-load-tester-1.0.0-SNAPSHOT-exec.jar scripts/* ec2-user@$IP:
```

## Test 1

m5.large
gp3 ssd
java 17

```shell
./run.sh --dir /home/ec2-user/test --temp /home/ec2-user/temp \
--files 256KB=1000 --files 100MB=10 --files 1MB=100 \
--iterations 100 --warmup 5 --threads 10
```

Run time: PT6H16M38.372485069S

Output:

```
       Value     Percentile TotalCount 1/(1-Percentile)

  204010.947 0.000000000000          1           1.00
  205218.906 0.100000000000        146           1.11
  205353.124 0.200000000000        229           1.25
  205487.342 0.300000000000        320           1.43
  205621.559 0.400000000000        453           1.67
  205755.777 0.500000000000        553           2.00
  205755.777 0.550000000000        553           2.22
  205889.995 0.600000000000        620           2.50
  206024.212 0.650000000000        656           2.86
  206292.648 0.700000000000        714           3.33
  206829.519 0.750000000000        753           4.00
  207366.390 0.775000000000        777           4.44
  208305.914 0.800000000000        800           5.00
  213271.970 0.825000000000        827           5.71
  325880.644 0.850000000000        850           6.67
  332323.095 0.875000000000        883           8.00
  332591.530 0.887500000000        942           8.89
  332591.530 0.900000000000        942          10.00
  332591.530 0.912500000000        942          11.43
  332591.530 0.925000000000        942          13.33
  332591.530 0.937500000000        942          16.00
  332859.965 0.943750000000        970          17.78
  332859.965 0.950000000000        970          20.00
  332859.965 0.956250000000        970          22.86
  332859.965 0.962500000000        970          26.67
  332859.965 0.968750000000        970          32.00
  333128.401 0.971875000000        981          35.56
  333128.401 0.975000000000        981          40.00
  333128.401 0.978125000000        981          45.71
  333128.401 0.981250000000        981          53.33
  333396.836 0.984375000000        988          64.00
  333396.836 0.985937500000        988          71.11
  333396.836 0.987500000000        988          80.00
  333665.272 0.989062500000        989          91.43
  338497.110 0.990625000000        995         106.67
  338497.110 0.992187500000        995         128.00
  338497.110 0.992968750000        995         142.22
  338497.110 0.993750000000        995         160.00
  338497.110 0.994531250000        995         182.86
  338497.110 0.995312500000        995         213.33
  338765.545 0.996093750000        998         256.00
  338765.545 0.996484375000        998         284.44
  338765.545 0.996875000000        998         320.00
  338765.545 0.997265625000        998         365.71
  338765.545 0.997656250000        998         426.67
  338765.545 0.998046875000        998         512.00
  338765.545 0.998242187500        998         568.89
  338765.545 0.998437500000        998         640.00
  338765.545 0.998632812500        998         731.43
  338765.545 0.998828125000        998         853.33
  339033.981 0.999023437500        999        1024.00
  339033.981 1.000000000000        999
#[Mean    =   225730.707, StdDeviation   =    45470.380]
#[Max     =   339033.981, Total count    =          999]
#[Buckets =           29, SubBuckets     =         2048]
```

## Test 2

m5.large
magnetic
java 17

```shell
./run.sh --dir /data/test --temp /data/temp \
--files 256KB=1000 --files 100MB=10 --files 1MB=100 \
--iterations 100 --warmup 5 --threads 10
```

Run time: PT9H19M29.757578353S

```
       Value     Percentile TotalCount 1/(1-Percentile)

  233807.282 0.000000000000          1           1.00
  311653.564 0.100000000000        102           1.11
  321048.805 0.200000000000        200           1.25
  328028.127 0.300000000000        302           1.43
  332054.659 0.400000000000        400           1.67
  334739.014 0.500000000000        503           2.00
  336349.626 0.550000000000        557           2.22
  338228.675 0.600000000000        606           2.50
  339570.852 0.650000000000        651           2.86
  341449.900 0.700000000000        700           3.33
  343597.384 0.750000000000        751           4.00
  344939.561 0.775000000000        777           4.44
  346281.738 0.800000000000        805           5.00
  347355.480 0.825000000000        826           5.71
  348697.657 0.850000000000        850           6.67
  351113.576 0.875000000000        875           8.00
  352992.625 0.887500000000        891           8.89
  354066.366 0.900000000000        900          10.00
  355676.979 0.912500000000        913          11.43
  357556.027 0.925000000000        926          13.33
  361582.559 0.937500000000        939          16.00
  363193.172 0.943750000000        944          17.78
  365609.091 0.950000000000        950          20.00
  368561.881 0.956250000000        957          22.86
  383594.267 0.962500000000        964          26.67
  387620.798 0.968750000000        969          32.00
  389499.847 0.971875000000        972          35.56
  394600.120 0.975000000000        977          40.00
  396210.733 0.978125000000        979          45.71
  400774.136 0.981250000000        982          53.33
  407485.022 0.984375000000        985          64.00
  408021.893 0.985937500000        986          71.11
  410974.683 0.987500000000        988          80.00
  418490.876 0.989062500000        990          91.43
  422517.408 0.990625000000        991         106.67
  424933.327 0.992187500000        993         128.00
  424933.327 0.992968750000        993         142.22
  427349.246 0.993750000000        994         160.00
  428691.423 0.994531250000        995         182.86
  430570.471 0.995312500000        996         213.33
  433791.697 0.996093750000        997         256.00
  433791.697 0.996484375000        997         284.44
  433791.697 0.996875000000        997         320.00
  434060.132 0.997265625000        998         365.71
  434060.132 0.997656250000        998         426.67
  450434.695 0.998046875000        999         512.00
  450434.695 0.998242187500        999         568.89
  450434.695 0.998437500000        999         640.00
  450434.695 0.998632812500        999         731.43
  450434.695 0.998828125000        999         853.33
  454461.227 0.999023437500       1000        1024.00
  454461.227 1.000000000000       1000
#[Mean    =   334587.415, StdDeviation   =    22964.894]
#[Max     =   454461.227, Total count    =         1000]
#[Buckets =           29, SubBuckets     =         2048]
```

## Test 3

m5.large
amazon s3
java 17

```shell
./run.sh --temp /home/ec2-user/temp \
--s3-region us-east-1 --s3-bucket pwinckles-ocfl-us-east-1 --s3-prefix load-test-3 \
--files 256KB=1000 --files 100MB=10 --files 1MB=100 \
--iterations 100 --warmup 5 --threads 10
```

Run time: PT11H5M37.354983798S

```
       Value     Percentile TotalCount 1/(1-Percentile)

   98113.159 0.000000000000          1           1.00
  316216.967 0.100000000000        103           1.11
  321317.241 0.200000000000        208           1.25
  324538.466 0.300000000000        307           1.43
  327491.256 0.400000000000        401           1.67
  333933.707 0.500000000000        502           2.00
  346818.609 0.550000000000        550           2.22
  499289.948 0.600000000000        600           2.50
  511101.108 0.650000000000        650           2.86
  516738.253 0.700000000000        700           3.33
  520496.349 0.750000000000        752           4.00
  522375.397 0.775000000000        777           4.44
  523717.575 0.800000000000        802           5.00
  525596.623 0.825000000000        825           5.71
  526938.800 0.850000000000        851           6.67
  528817.848 0.875000000000        877           8.00
  529891.590 0.887500000000        889           8.89
  530696.897 0.900000000000        904          10.00
  532039.074 0.912500000000        914          11.43
  532844.380 0.925000000000        927          13.33
  533649.687 0.937500000000        939          16.00
  533918.122 0.943750000000        944          17.78
  534991.864 0.950000000000        950          20.00
  535797.170 0.956250000000        960          22.86
  537139.347 0.962500000000        964          26.67
  537944.654 0.968750000000        971          32.00
  538213.089 0.971875000000        972          35.56
  539018.396 0.975000000000        975          40.00
  540092.137 0.978125000000        979          45.71
  541702.750 0.981250000000        982          53.33
  542508.057 0.984375000000        985          64.00
  543044.927 0.985937500000        987          71.11
  544655.540 0.987500000000        989          80.00
  544923.976 0.989062500000        990          91.43
  545729.282 0.990625000000        991         106.67
  546803.024 0.992187500000        993         128.00
  546803.024 0.992968750000        993         142.22
  547339.895 0.993750000000        995         160.00
  547339.895 0.994531250000        995         182.86
  547608.330 0.995312500000        996         213.33
  550292.685 0.996093750000        997         256.00
  550292.685 0.996484375000        997         284.44
  550292.685 0.996875000000        997         320.00
  550829.556 0.997265625000        998         365.71
  550829.556 0.997656250000        998         426.67
  553513.910 0.998046875000        999         512.00
  553513.910 0.998242187500        999         568.89
  553513.910 0.998437500000        999         640.00
  553513.910 0.998632812500        999         731.43
  553513.910 0.998828125000        999         853.33
  556198.265 0.999023437500       1000        1024.00
  556198.265 1.000000000000       1000
#[Mean    =   398015.760, StdDeviation   =   115963.597]
#[Max     =   556198.265, Total count    =         1000]
#[Buckets =           30, SubBuckets     =         2048]
```

## Test 4

m5.large
amazon s3
java 17

```shell
./run.sh --temp /home/ec2-user/temp \
--s3-region us-east-1 --s3-bucket pwinckles-ocfl-us-east-1 --s3-prefix load-test-4 \
--files 1KB=2000 \
--iterations 30 --warmup 3 --threads 10
```

Run time: PT45M34.650415474S

```
       Value     Percentile TotalCount 1/(1-Percentile)

   84422.951 0.000000000000          1           1.00
   86436.217 0.100000000000         31           1.11
   87241.523 0.200000000000         62           1.25
   88113.938 0.300000000000         92           1.43
   88650.809 0.400000000000        121           1.67
   89456.116 0.500000000000        151           2.00
   89925.878 0.550000000000        165           2.22
   90395.640 0.600000000000        180           2.50
   90731.184 0.650000000000        197           2.86
   90999.620 0.700000000000        214           3.33
   91335.164 0.750000000000        228           4.00
   91469.382 0.775000000000        235           4.44
   91603.599 0.800000000000        243           5.00
   91737.817 0.825000000000        248           5.71
   91872.035 0.850000000000        257           6.67
   92073.361 0.875000000000        265           8.00
   92140.470 0.887500000000        272           8.89
   92140.470 0.900000000000        272          10.00
   92274.688 0.912500000000        274          11.43
   92408.906 0.925000000000        280          13.33
   92476.015 0.937500000000        285          16.00
   92476.015 0.943750000000        285          17.78
   92476.015 0.950000000000        285          20.00
   92543.123 0.956250000000        287          22.86
   92744.450 0.962500000000        289          26.67
   92945.777 0.968750000000        291          32.00
   93012.886 0.971875000000        292          35.56
   93214.212 0.975000000000        294          40.00
   93214.212 0.978125000000        294          45.71
   93281.321 0.981250000000        296          53.33
   93281.321 0.984375000000        296          64.00
   93281.321 0.985937500000        296          71.11
   93482.648 0.987500000000        297          80.00
   93482.648 0.989062500000        297          91.43
   93616.865 0.990625000000        298         106.67
   93616.865 0.992187500000        298         128.00
   93616.865 0.992968750000        298         142.22
   94220.845 0.993750000000        299         160.00
   94220.845 0.994531250000        299         182.86
   94220.845 0.995312500000        299         213.33
   94220.845 0.996093750000        299         256.00
   94220.845 0.996484375000        299         284.44
   98582.921 0.996875000000        300         320.00
   98582.921 1.000000000000        300
#[Mean    =    89423.456, StdDeviation   =     2244.622]
#[Max     =    98582.921, Total count    =          300]
#[Buckets =           27, SubBuckets     =         2048]
```